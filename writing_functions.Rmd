---
title: "Writing Functions"
author: "Jeff Goldsmith"
date: "11/8/2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
```

## Simple function

```{r}
set.seed(1)

x = rnorm(25)

mean(x) / sd(x)
```

Let's see this as a function...

```{r}
z_score = function(x) {
  
  z = mean(x) / sd(x)
  
  z
  
}

z_score(x)
```

Unintended argument values ...

```{r, error = TRUE}
z_score(19.375)
z_score("my name is jeff")
z_score(iris)
z_score(c(TRUE, TRUE, FALSE, TRUE))
```

Add some control statements.

```{r}
z_score = function(x) {
  
  if (!is.numeric(x)) {
    stop("x must be numeric")
  } else if (length(x) < 3) {
    stop("x must have three or more entries")
  }
  
  z = mean(x) / sd(x)
  
  z
  
}
```

## Multiple outputs

Add mean and sd to output ...


```{r}
z_score = function(x) {
  
  if (!is.numeric(x)) {
    stop("x must be numeric")
  } else if (length(x) < 3) {
    stop("x must have three or more entries")
  }
  
  mean_x = mean(x)
  sd_x = sd(x)
  z = mean_x / sd_x
  
  data_frame(mean = mean_x,
             sd = sd_x,
             z = z)
  
}

z_score(x)
```


### A bit more interesting ...




